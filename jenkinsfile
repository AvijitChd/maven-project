pipeline
{
agent any
stages
{
stage ('git clone')
{
steps 
{ git 'https://github.com/AvijitChd/maven-project.git'}
}
stage ('Build my project')
{
steps{
withMaven(jdk: 'LcalJdk', maven: 'LocalMaven') 
{ 
sh 'mvn package'
}
}
}

stage ('Deploy to Tomcat')
{
steps{
sshagent(['tomcats'])
{ 
sh 'scp -o StrictHostKeyChecking=no */target/*.war ec2-user@3.133.97.89:/var/lib/tomcat/webapps'
}
}
}
}
}
